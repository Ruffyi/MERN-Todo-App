(this["webpackJsonpreact-the-complete-guide"]=this["webpackJsonpreact-the-complete-guide"]||[]).push([[0],{27:function(t,e,o){t.exports={app:"App_app__3llRO","app--light":"App_app--light__hNps0"}},28:function(t,e,o){t.exports={header:"Header_header__3R3dn"}},30:function(t,e,o){t.exports={todos:"Todos_todos__2Fp57"}},31:function(t,e,o){t.exports={header__btn:"TodosHeader_header__btn__2OK9j",header:"TodosHeader_header__2w7lN",header__title:"TodosHeader_header__title__2MsF1"}},32:function(t,e,o){t.exports={form:"TodosForm_form__1mset","form--light":"TodosForm_form--light__2_EzV",form__status:"TodosForm_form__status__tMWJ6",form__input:"TodosForm_form__input__1IhHb","form__input--light":"TodosForm_form__input--light__1opA8"}},33:function(t,e,o){t.exports={status__btn:"Button_status__btn__3zsBy",status:"Button_status__1O6B6","status__btn--complete":"Button_status__btn--complete__3vP0X"}},34:function(t,e,o){t.exports={todoslist:"TodosList_todoslist__ZGBjj","todoslist--light":"TodosList_todoslist--light__31W1j"}},35:function(t,e,o){t.exports={todo__delete:"TodosItem_todo__delete__1UPcl",todo:"TodosItem_todo__db3zH","todo--light":"TodosItem_todo--light__3rj8q",todo__title:"TodosItem_todo__title__1Alcj","todo__title--complete":"TodosItem_todo__title--complete__hQqDJ","todo__title--light":"TodosItem_todo__title--light__1BpXa"}},36:function(t,e,o){t.exports={actions__btn:"Actions_actions__btn__3iHhS",actions:"Actions_actions__2lm67","actions--light":"Actions_actions--light__sTBgo",actions__items:"Actions_actions__items__1LHZB"}},37:function(t,e,o){t.exports={buttons__btn:"ActionButtons_buttons__btn__2yjap",buttons:"ActionButtons_buttons__1uG37","buttons--light":"ActionButtons_buttons--light__xsZBV",buttons__mobile:"ActionButtons_buttons__mobile__m3HfU","buttons__mobile--light":"ActionButtons_buttons__mobile--light__sed6K"}},38:function(t,e,o){},66:function(t,e,o){"use strict";o.r(e);o(38);var n=o(12),s=o.n(n),a=o(3),c=o.n(a),r=o(27),i=o.n(r),d=o(28),u=o.n(d),l=o.p+"static/media/bg-desktop-dark.73e47dbb.jpg",_=o.p+"static/media/bg-desktop-light.3508d620.jpg",h=o(2),m=o(0),b=c()(u.a),f=function(){var t=Object(h.c)((function(t){return t.theme})).theme;return Object(m.jsx)("header",{className:b(),children:Object(m.jsx)("img",{src:"dark"===t?l:_,alt:"","aria-hidden":"true"})})},j=o(30),p=o.n(j),g=o(31),O=o.n(g),x=o.p+"static/media/icon-sun.910b1f9a.svg",v=o.p+"static/media/icon-moon.6c03114b.svg",T=o(7),w=Object(T.c)({name:"theme",initialState:{theme:"dark"},reducers:{toggleTheme:function(t,e){var o=e.payload;t.theme="dark"===t.theme?"light":"dark",localStorage.setItem(o,t.theme)},addThemeFromStorage:function(t,e){var o=e.payload;t.theme=o}}}),S=w.actions,k=S.toggleTheme,N=S.addThemeFromStorage,y=w.reducer,C=c()(O.a),H=function(){var t=Object(h.c)((function(t){return t.theme})).theme,e=Object(h.b)();return Object(m.jsxs)("div",{className:C(),children:[Object(m.jsx)("h1",{className:C("title"),children:"Todo"}),Object(m.jsx)("button",{className:C("btn"),onClick:function(){e(k("theme"))},children:Object(m.jsx)("img",{src:"dark"===t?x:v,alt:"Dark Theme"})})]})},A=o(6),B=o(8),E=o(5),F=o.n(E),I=o(32),D=o.n(I),z=o(1),L=o(33),M=o.n(L),J=o.p+"static/media/icon-check.a8fb15d0.svg";c.a.setSettings({modifierDelimiter:"--"});var P=c()(M.a),G=function(t){var e=t.changeStatusHandler,o=t.status,n=t.modifier;return Object(m.jsx)("div",{className:P(""),children:Object(m.jsx)("div",{onClick:e,className:P("btn",{complete:n}),role:"button",children:"complete"===o&&Object(m.jsx)("img",{src:J,alt:"Change todo status"})})})},R=o(14),W="http://localhost:3000/api/v1/todos",Z=o(9),q=o.n(Z),K=Object(T.b)("todos",Object(A.a)(F.a.mark((function t(){var e,o;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q()(W,{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return e=t.sent,o=e.data.data,t.abrupt("return",o.todos);case 5:case"end":return t.stop()}}),t)})))),U=Object(T.c)({name:"todos",initialState:{todos:[],filteredTodos:[]},reducers:{addTodo:function(t,e){var o=e.payload;t.todos.push(o),t.filteredTodos.push(o)},changeTodoStatus:function(t,e){var o=e.payload;t.todos=t.todos.map((function(t){return t._id===o._id&&(t.status=o.status),t})),t.filteredTodos=t.todos},deleteTodo:function(t,e){var o=e.payload;t.todos=t.filteredTodos.filter((function(t){return t._id!==o})),t.filteredTodos=t.todos},filterTodos:function(t,e){switch(e.payload){case"all":t.todos=Object(R.a)(t.filteredTodos);break;case"active":t.todos=t.filteredTodos.filter((function(t){return"progress"===t.status}));break;case"completed":t.todos=t.filteredTodos.filter((function(t){return"complete"===t.status}))}},clearCompletedTodos:function(t){t.todos=t.todos.filter((function(t){return"complete"!==t.status})),t.filteredTodos=t.todos}},extraReducers:function(t){t.addCase(K.fulfilled,(function(t,e){var o=e.payload;t.todos=Object(R.a)(o),t.filteredTodos=Object(R.a)(o)}))}}),V=U.actions,X=V.addTodo,Q=V.deleteTodo,Y=V.changeTodoStatus,$=V.clearCompletedTodos,tt=V.filterTodos,et=U.reducer,ot=function(){var t=Object(A.a)(F.a.mark((function t(e,o){var n,s;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q()(e,{method:"POST",data:o,headers:{"Content-Type":"application/json"}});case 2:return n=t.sent,s=n.data.data,t.abrupt("return",s.newTodo);case 5:case"end":return t.stop()}}),t)})));return function(e,o){return t.apply(this,arguments)}}(),nt=function(){var t=Object(A.a)(F.a.mark((function t(e,o){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q()(e,{method:"PATCH",data:o,headers:{"Content-Type":"application/json"}});case 2:case"end":return t.stop()}}),t)})));return function(e,o){return t.apply(this,arguments)}}(),st=function(){var t=Object(A.a)(F.a.mark((function t(e){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q()(e,{method:"DELETE",headers:{"Content-Type":"application/json"}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),at=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,s=Object(z.useState)(t),a=Object(B.a)(s,2),c=a[0],r=a[1],i=Object(z.useState)(e),d=Object(B.a)(i,2),u=d[0],l=d[1],_=Object(h.b)();Object(z.useEffect)((function(){r("complete"===e&&!0)}),[e]);var m=function(){var t="progress"===u?"complete":"progress";l(t),r(!c),_(Y({_id:o,status:t})),!n&&nt("".concat(W,"/").concat(o),{status:t})};return{todoModifier:c,todoStatus:u,changeStatusHandler:m}};c.a.setSettings({modifierDelimiter:"--"});var ct=c()(D.a),rt=function(){var t=Object(h.c)((function(t){return t.theme})).theme,e=Object(z.useState)(""),o=Object(B.a)(e,2),n=o[0],s=o[1],a=at(!1,"progress","",!0),c=a.todoStatus,r=a.todoModifier,i=a.changeStatusHandler,d=Object(h.b)(),u=function(){var t=Object(A.a)(F.a.mark((function t(e){var o;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),n.trim().length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,ot(W,{name:n,status:c});case 5:o=t.sent,d(X(o)),s("");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)("form",{className:ct("",{light:"light"===t&&!0}),onSubmit:u,children:[Object(m.jsx)(G,{modifier:r,status:c,changeStatusHandler:i}),Object(m.jsx)("input",{className:ct("input",{light:"light"===t&&!0}),type:"text",placeholder:"Create a new todo...",value:n,onChange:function(t){s(t.target.value)}})]})},it=o(34),dt=o.n(it),ut=o(35),lt=o.n(ut),_t=o.p+"static/media/icon-cross.6ee81d30.svg",ht=c()(lt.a),mt=function(t){var e=t._id,o=t.name,n=t.status,s=at(!1,n,e),a=s.todoModifier,c=s.todoStatus,r=s.changeStatusHandler,i=Object(h.c)((function(t){return t.theme})).theme,d=Object(h.b)();return Object(m.jsxs)("div",{className:ht("",{light:"light"===i&&!0}),children:[Object(m.jsx)(G,{status:c,changeStatusHandler:r,modifier:a}),Object(m.jsx)("h2",{className:ht("title",{complete:a,light:"light"===i&&!0}),children:o}),Object(m.jsx)("button",{className:ht("delete"),onClick:function(){d(Q(e)),st("".concat(W,"/").concat(e))},children:Object(m.jsx)("img",{src:_t,alt:"Delete todo"})})]})},bt=c()(dt.a),ft=function(){var t=Object(h.c)((function(t){return t.theme})).theme,e=Object(h.c)((function(t){return t.todo})).todos;return Object(m.jsx)("section",{className:bt("",{light:"light"===t&&!0}),children:e.map((function(t){var e=t._id,o=t.name,n=t.status;return Object(m.jsx)(mt,{_id:e,name:o,status:n},e)}))})},jt=o(36),pt=o.n(jt),gt=function(){var t=Object(z.useState)({width:0,height:0}),e=Object(B.a)(t,2),o=e[0],n=e[1],s=function(){n({width:window.innerWidth,height:window.innerHeight})};return Object(z.useEffect)((function(){return s(),window.addEventListener("resize",s),function(){return window.removeEventListener("resize",s)}}),[]),{windowSize:o}},Ot=o(37),xt=o.n(Ot),vt=c()(xt.a),Tt=function(t){var e=t.type,o=Object(h.b)(),n=Object(h.c)((function(t){return t.theme})).theme,s=function(t){o(tt(t))};return Object(m.jsxs)("div",{className:vt("".concat("mobile"===e?"mobile":""),{light:"light"===n&&!0}),children:[Object(m.jsx)("button",{className:vt("btn"),onClick:function(){return s("all")},children:"All"}),Object(m.jsx)("button",{className:vt("btn"),onClick:function(){return s("active")},children:"Active"}),Object(m.jsx)("button",{className:vt("btn"),onClick:function(){return s("completed")},children:"Completed"})]})},wt=c()(pt.a),St=function(){var t=Object(h.c)((function(t){return t.theme})).theme,e=Object(h.c)((function(t){return t.todo})).todos,o=gt().windowSize,n=Object(h.b)();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:wt("",{light:"light"===t&&!0}),children:[Object(m.jsxs)("p",{className:wt("items"),children:[e.length," items left"]}),Object(m.jsx)(Tt,{}),Object(m.jsx)("button",{className:wt("btn"),onClick:function(){n($()),e.forEach((function(t){"complete"===t.status&&st("".concat(W,"/").concat(t._id))}))},children:"Clear Completed"})]}),o.width<950&&Object(m.jsx)(Tt,{type:"mobile"})]})},kt=c()(p.a),Nt=function(){return Object(m.jsxs)("section",{className:kt(),children:[Object(m.jsx)(H,{}),Object(m.jsx)(rt,{}),Object(m.jsx)(ft,{}),Object(m.jsx)(St,{})]})};c.a.setSettings({modifierDelimiter:"--"});var yt=c()(i.a),Ct=function(){var t=Object(h.c)((function(t){return t.theme})).theme,e=Object(h.b)();return console.log(t),Object(z.useEffect)((function(){var t=localStorage.getItem("theme")||"dark";e(K()),e(N(t))}),[e]),Object(m.jsxs)("main",{className:yt({light:"light"===t&&!0}),children:[Object(m.jsx)(f,{}),Object(m.jsx)(Nt,{})]})},Ht=Object(T.a)({reducer:{todo:et,theme:y}});s.a.render(Object(m.jsx)(h.a,{store:Ht,children:Object(m.jsx)(Ct,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.09c1ab06.chunk.js.map